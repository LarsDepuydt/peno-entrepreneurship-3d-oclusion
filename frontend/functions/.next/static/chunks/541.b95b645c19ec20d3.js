"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[541],{1541:function(e,n,t){let i,o,a,d,s,r,c,l,u,y,m,h,v,p,S,g,w,k;t.r(n),t.d(n,{default:function(){return G}});var I=t(5893),f=t(9477),N=t(9365),P=t(9018),B=t(7011),O=t(3687),D=t(5652),x=t(7294),U=t(7837);let T=[],A=!1,b=!1;new f.Pa4;let q=new f.SUY,z=!1;function _(){o.aspect=window.innerWidth/window.innerHeight,o.updateProjectionMatrix(),d.setSize(window.innerWidth,window.innerHeight)}function j(e){if(e.isMesh)return e;{let n;for(let t of e.children)if(null!==(n=j(t)))return n;return null}}function E(e){let n;let t=e.geometry.getAttribute("position");n=t instanceof f.TlE||t instanceof f.kB5?Array.from(t.array):Array.from([]);let i=[];for(let e=0;e<n.length/3;e+=3)i.push(e,e+1,e+2);return new O.np(n,i)}function G(){let[e,n]=(0,x.useState)(!1),[t,G]=(0,x.useState)(!1);function C(){A&&b&&(console.log("starting animation"),d.setAnimationLoop(M))}function M(){k.step(.1),u.position.set(m.position.x,m.position.y,m.position.z),u.quaternion.set(m.quaternion.x,m.quaternion.y,m.quaternion.z,m.quaternion.w),v.position.set(S.position.x,S.position.y,S.position.z),v.quaternion.set(S.quaternion.x,S.quaternion.y,S.quaternion.z,S.quaternion.w),w.position.set(w.position.x,w.position.y,w.position.z),d.render(a,o),function(){let e=q.getElapsedTime();e>=5&&(n(!0),console.log(e,"seconds have passed"),q.start())}()}return(0,x.useEffect)(()=>{z?(function(){console.log("Initialising CANNON");let e=new O.wf;e.iterations=10,k=new O.q3({gravity:new O.AO(0,0,1),solver:e,broadphase:new O.KK}),m=new O.uT({mass:1}),S=new O.uT({mass:1}),m.position.set(0,0,2),S.position.set(0,0,1),m.quaternion=new O._f(0,0,0,1),S.quaternion=new O._f(0,0,0,1),k.addBody(m),k.addBody(S),T.push(m),T.push(S),m.addEventListener("collide",function(e){console.log("lj collided with body ",e.body)}),c=new O.uT({mass:0}),r=new O.JO,c.addShape(r)}(),function(){i=document.createElement("div"),document.body.appendChild(i),(a=new f.xsS).background=new f.Ilk(8421504),(o=new f.cPb(50,window.innerWidth/window.innerHeight,.1,1e3)).position.set(0,1.6,3),(s=new N.z(o,i)).target.set(0,1.6,0),s.update();var e=new f.y8_(5);a.add(e);let n=new f._12(4,4),t=new f.Wid({color:15658734,roughness:1,metalness:0}),r=new f.Kj0(n,t);r.rotation.x=-Math.PI/2,r.receiveShadow=!0,a.add(r);let c=new f.xo$(.1,10,5),l=new f.xo$(.1,10,5),u=new f.Wid({color:255,roughness:1,metalness:.5});g=new f.Kj0(c,u),w=new f.Kj0(l,u),a.add(g),a.add(w),a.add(new f.vmT(8421504,6316128));let y=new f.Ox3(16777215);y.position.set(0,6,0),y.castShadow=!0,y.shadow.camera.top=2,y.shadow.camera.bottom=-2,y.shadow.camera.right=2,y.shadow.camera.left=-2,y.shadow.mapSize.set(4096,4096),a.add(y),(d=new f.CP7({antialias:!0})).setPixelRatio(window.devicePixelRatio),d.setSize(window.innerWidth,window.innerHeight),d.outputEncoding=f.knz,d.shadowMap.enabled=!0,d.xr.enabled=!0,i.appendChild(d.domElement),document.body.appendChild(P.N.createButton(d)),new f.iMs,window.addEventListener("resize",_);let m=d.xr.getSession();null==m||m.addEventListener("end",e=>{})}(),function(){let e=new B.L;e.load("/lower_ios_6.obj",function(e){(l=e).scale.set(.01,.01,.01),l.position.x=0,l.position.y=0,l.position.z=0,l.rotation.x=1.5*Math.PI,console.log(l),a.add(l),y=E(u=j(l)),console.log("loading lj_group succeeded"),m.addShape(y),A=!0,C()},function(e){},function(e){console.log("An error happened while loading lj_group: "+e)}),e.load("/upper_ios_6.obj",function(e){(h=e).position.x=0,h.position.y=0,h.position.z=0,h.rotation.x=1.5*Math.PI,h.scale.setScalar(.01),a.add(h),p=E(v=j(h)),console.log("loading uj_group succeeded"),S.addShape(p),b=!0,C()},function(e){},function(e){console.log("An error happened while loading uj_group: "+e)})}(),console.log("Init executed!")):z=!0},[]),(0,I.jsxs)("div",{children:[(0,I.jsx)(function(){let t=null==u?void 0:u.position,i=null==v?void 0:v.position,o=null==u?void 0:u.rotation,a=null==v?void 0:v.rotation,{x:d,y:s,z:r}=null!=t?t:{},{x:c,y:l,z:y}=null!=o?o:{},{x:m,y:h,z:p}=null!=i?i:{},{x:S,y:g,z:w}=null!=a?a:{},k=D.bN.useQuery({scan:{scanId:111,date:"2022",lowerX:d,lowerY:s,lowerZ:r,lowerRX:c,lowerRY:l,lowerRZ:y,upperX:m,upperY:h,upperZ:p,upperRX:S,upperRY:g,upperRZ:w}}),{data:I,refetch:f}=(0,U.a)(k.queryKey,k.queryFn,{enabled:!1});return(0,x.useEffect)(()=>{e&&(f(),n(!1))},[e]),null},{}),(0,I.jsx)(function(){let e=D.d9.useQuery({scanId:111}),{data:n,refetch:i}=(0,U.a)(e.queryKey,e.queryFn,{enabled:!1});return(0,x.useEffect)(()=>{t&&(i(),G(!1))},[t]),n&&console.log(n),null},{})]})}},5652:function(e,n,t){t.d(n,{UM:function(){return d},b$:function(){return c},bN:function(){return s},d9:function(){return r},hT:function(){return l},x4:function(){return u},z2:function(){return y}});var i=t(7646),o=t(3328),a=t(6379);let d=(0,i.k)({service:{methods:{sendVR:{name:"SendVR",kind:o.t.Unary,I:a.vT,O:a.I_}},typeName:"threedoclusion.v1.ScanService"}}).sendVR;(0,i.k)({service:{methods:{addScan:{name:"AddScan",kind:o.t.Unary,I:a.L7,O:a.nq}},typeName:"threedoclusion.v1.ScanService"}}).addScan,(0,i.k)({service:{methods:{deleteScan:{name:"DeleteScan",kind:o.t.Unary,I:a.lK,O:a.eG}},typeName:"threedoclusion.v1.ScanService"}}).deleteScan,(0,i.k)({service:{methods:{getAllScans:{name:"GetAllScans",kind:o.t.Unary,I:a.v5,O:a.mX}},typeName:"threedoclusion.v1.ScanService"}}).getAllScans,(0,i.k)({service:{methods:{getScanByID:{name:"GetScanByID",kind:o.t.Unary,I:a.cx,O:a.h2}},typeName:"threedoclusion.v1.ScanService"}}).getScanByID,(0,i.k)({service:{methods:{getScanByDate:{name:"GetScanByDate",kind:o.t.Unary,I:a.yE,O:a.cT}},typeName:"threedoclusion.v1.ScanService"}}).getScanByDate,(0,i.k)({service:{methods:{addTag:{name:"AddTag",kind:o.t.Unary,I:a.N7,O:a.dt}},typeName:"threedoclusion.v1.ScanService"}}).addTag,(0,i.k)({service:{methods:{deleteTag:{name:"DeleteTag",kind:o.t.Unary,I:a.sF,O:a.XH}},typeName:"threedoclusion.v1.ScanService"}}).deleteTag,(0,i.k)({service:{methods:{getAllTags:{name:"GetAllTags",kind:o.t.Unary,I:a.he,O:a.cV}},typeName:"threedoclusion.v1.ScanService"}}).getAllTags,(0,i.k)({service:{methods:{getTagByID:{name:"GetTagByID",kind:o.t.Unary,I:a.oZ,O:a.TQ}},typeName:"threedoclusion.v1.ScanService"}}).getTagByID,(0,i.k)({service:{methods:{getAllTagsByType:{name:"GetAllTagsByType",kind:o.t.Unary,I:a.L,O:a.Bf}},typeName:"threedoclusion.v1.ScanService"}}).getAllTagsByType;let s=(0,i.k)({service:{methods:{sendPositionScan:{name:"SendPositionScan",kind:o.t.Unary,I:a.U0,O:a.Wd}},typeName:"threedoclusion.v1.ScanService"}}).sendPositionScan,r=(0,i.k)({service:{methods:{getPositionScan:{name:"GetPositionScan",kind:o.t.Unary,I:a.IX,O:a.fO}},typeName:"threedoclusion.v1.ScanService"}}).getPositionScan,c=(0,i.k)({service:{methods:{addPatient:{name:"AddPatient",kind:o.t.Unary,I:a.eb,O:a.dI}},typeName:"threedoclusion.v1.ScanService"}}).addPatient,l=(0,i.k)({service:{methods:{deletePatient:{name:"DeletePatient",kind:o.t.Unary,I:a.h_,O:a.CJ}},typeName:"threedoclusion.v1.ScanService"}}).deletePatient;(0,i.k)({service:{methods:{getAllPatients:{name:"GetAllPatients",kind:o.t.Unary,I:a.MP,O:a.XZ}},typeName:"threedoclusion.v1.ScanService"}}).getAllPatients,(0,i.k)({service:{methods:{getPatientByID:{name:"GetPatientByID",kind:o.t.Unary,I:a.bP,O:a.No}},typeName:"threedoclusion.v1.ScanService"}}).getPatientByID,(0,i.k)({service:{methods:{getPatientByName:{name:"GetPatientByName",kind:o.t.Unary,I:a.bn,O:a.bc}},typeName:"threedoclusion.v1.ScanService"}}).getPatientByName,(0,i.k)({service:{methods:{addDentist:{name:"AddDentist",kind:o.t.Unary,I:a.gw,O:a.qo}},typeName:"threedoclusion.v1.ScanService"}}).addDentist,(0,i.k)({service:{methods:{deleteDentistById:{name:"DeleteDentistById",kind:o.t.Unary,I:a.wY,O:a.rZ}},typeName:"threedoclusion.v1.ScanService"}}).deleteDentistById,(0,i.k)({service:{methods:{getAllDentists:{name:"GetAllDentists",kind:o.t.Unary,I:a.Cm,O:a.bO}},typeName:"threedoclusion.v1.ScanService"}}).getAllDentists,(0,i.k)({service:{methods:{getDentistById:{name:"GetDentistById",kind:o.t.Unary,I:a.PN,O:a.jS}},typeName:"threedoclusion.v1.ScanService"}}).getDentistById,(0,i.k)({service:{methods:{updateDentistById:{name:"UpdateDentistById",kind:o.t.Unary,I:a.hW,O:a.Gr}},typeName:"threedoclusion.v1.ScanService"}}).updateDentistById;let u=(0,i.k)({service:{methods:{login:{name:"Login",kind:o.t.Unary,I:a.xJ,O:a.IJ}},typeName:"threedoclusion.v1.ScanService"}}).login,y=(0,i.k)({service:{methods:{register:{name:"Register",kind:o.t.Unary,I:a.Z5,O:a.Oz}},typeName:"threedoclusion.v1.ScanService"}}).register}}]);