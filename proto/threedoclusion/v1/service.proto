syntax = "proto3";

package threedoclusion.v1;

option go_package = "github.com/LarsDepuydt/peno-entrepreneurship-3d-oclusie";


service ScanService {
  rpc AddScan(AddScanRequest) returns (AddScanResponse) {}
  rpc DeleteScan(DeleteScanRequest) returns (DeleteScanResponse) {}
  rpc GetAllScans(GetAllScansRequest) returns (GetAllScansResponse) {}
  rpc GetScanByID(GetScanByIDRequest) returns (GetScanByIDResponse) {}
  rpc GetScanByDate(GetScanByDateRequest) returns (GetScanByDateResponse) {}

  rpc AddTag(AddTagRequest) returns (AddTagResponse) {}
  rpc DeleteTag(DeleteTagRequest) returns (DeleteTagResponse) {}
  rpc GetAllTags(GetAllTagsRequest) returns (GetAllTagsResponse) {}
  rpc GetTagByID(GetTagByIDRequest) returns (GetTagByIDResponse) {}
  rpc GetAllTagsByType(GetAllTagsByTypeRequest) returns (GetAllTagsByTypeResponse) {}

  rpc AddDentist(AddDentistRequest) returns (AddDentistResponse) {}
  rpc DeleteDentistById(DeleteDentistByIdRequest) returns (DeleteDentistByIdResponse) {}
  rpc GetAllDentists(GetAllDentistsRequest) returns (GetAllDentistsResponse) {}
  rpc GetDentistById(GetDentistByIdRequest) returns (GetDentistByIdResponse) {}
  rpc UpdateDentistById(UpdateDentistByIdRequest) returns (UpdateDentistByIdResponse) {}
}



// TAGS
message AddTagRequest {
  string bite = 1;
}

message AddTagResponse {
  string message = 1;
}

message DeleteTagRequest {
  int64 id = 1;
}

message DeleteTagResponse {
  string message = 1;
}

message GetAllTagsRequest {
  string table_name = 1;
}

message GetAllTagsResponse {
  repeated int64 id_data = 1;
  repeated string bite_data = 2;
}

message GetTagByIDRequest {
  int64 id = 1;
}

message GetTagByIDResponse {
  int64 id = 1;
  string bite = 2;
}

message GetAllTagsByTypeRequest {
  string type = 1;
}

message GetAllTagsByTypeResponse {
  string bite = 1;
  repeated int64 id_data = 2;
}


// SCANS
message AddScanRequest {
  string scan_file = 1;
  string scan_date = 2;

}

message AddScanResponse {
  string message = 1;
}

message DeleteScanRequest{
  int64 id = 1;
}

message DeleteScanResponse {
  string message = 1;
}

message GetAllScansRequest {
  string table_name = 1;

}

message GetAllScansResponse {
  repeated int64 id_data =  1;
  repeated string scan_data = 2;
  repeated string scan_dates = 3;
}

message GetScanByIDRequest {
  int64 id = 1;
}

message GetScanByIDResponse {
  int64 id =  1;
  string scan_data = 2;
  string scan_date = 3;
}

message GetScanByDateRequest {
  string date = 1 ;
}

message GetScanByDateResponse {
  repeated int64 id_data =  1;
  repeated string scan_data = 2;
  repeated string scan_dates = 3;
}

// DENTIST
message Dentist {
  int64 id = 1;
  string email = 2;
  string first_name = 3;
  string last_name = 4;
}

message AddDentistRequest {
  string email = 1;
  string password = 2;
  string first_name = 3;
  string last_name = 4;
}

message AddDentistResponse {
  string message = 1;
}

message GetDentistByIdRequest {
  string id = 1;
}

message GetDentistByIdResponse {
  int64 id = 1;
  string email = 2;
  string first_name = 3;
  string last_name = 4;
}

message GetAllDentistsRequest {}

message GetAllDentistsResponse {
  repeated Dentist dentists = 1;
}

message UpdateDentistByIdRequest {
  int64 id = 1;
  optional string email = 2;
  optional string first_name = 3;
  optional string last_name = 4;
  optional string password = 5;
}

message UpdateDentistByIdResponse {
  string message = 1;
}

message DeleteDentistByIdRequest {
  string id = 1;
}

message DeleteDentistByIdResponse {
  string message = 1;
}
